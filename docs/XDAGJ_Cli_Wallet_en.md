# XDAGJ Command Line Interface Wallet Tutorial

# XDAGJ Command Line Interface Wallet Tutorial

This section describes wallet-related 'xdag-cli' commands.

If you want to learn about the structure of your XDAG wallet, you can use the "xdag-cli" wallet commands, as shown below.

- **Please note that you should keep the wallet password and mnemonic phrase safe. If lost, it cannot be retrieved.**
- **This wallet is still in the testing stage, so there may be security issues, losses, or other unknown issues.**

----------

- [System Environment](#system-environment)
- [Usage](#usage)

----------

## System Environment

```yaml
     JDK: v17
     Script: xdag.sh
       Jar: xdagj-0.x.y-shaded.jar
```

example:
```shell
xdager@localhost xdag_full_node % java --version
openjdk 17.0.2 2022-01-18
OpenJDK Runtime Environment (build 17.0.2+8-86)
OpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)
xdager@localhost xdag_full_node % mkdir -p /usr/local/xdag_full_node && cd /usr/local/xdag_full_node
xdager@localhost xdag_full_node % pwd
/usr/local/xdag_full_node
xdager@localhost xdag_full_node % chmod +x xdag.sh
xdager@localhost xdag_full_node % ll
total 95464
drwxr-xr-x   4 xdager  wheel       128  5 24 14:22 .
drwxr-xr-x  16 xdager  wheel       512  5 24 14:21 ..
-rwxr-xr-x   1 xdager  wheel       275  5 24 14:21 xdag.sh
-rw-r--r--   1 xdager  wheel  48869970  5 24 14:21 xdagj-0.6.1-shaded.jar
```

## Usage

### Account

This section covers the initialization and creation of an xdag account, as well as other account-related functions.

#### Init

The "init" function creates an initial mnemonic for HDWallet. Please remember the mnemonic for future recovery purposes. The wallet follows the BIP44 standard ([BIP44](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki)) and uses [XDAG CoinType](https://github.com/satoshilabs/slips/blob/master/slip-0044.md).

```yaml
m / purpose' / coin_type' / account' / change / address_index
```

```yaml
purporse': Fixed value 44', which means BIP44
coin_type': This represents the currency, which can be compatible with many currencies, such as BTC is 0', ETH is 60',XDAG is 586'

btc: m/44'/0'/0'/0
eth: m/44'/60'/0'/0
xdag: m/44'/586'/0'/0
```

```shell
xdager@localhost xdag_full_node % ./xdag.sh --account init
EnterNewPassword:
ReEnterNewPassword:
HdWallet Initializing...
HdWallet Mnemonic:smoke that notice super program endless culture bubble trial pass annual rule
HdWallet Mnemonic Repeat:smoke that notice super program endless culture bubble trial pass annual rule
HdWallet Initialized Successfully!
```

#### Create

Please note that the "create" action must follow the "init" action, which follows the BIP32 standard ([BIP32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)) and the [BIP44](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki) standard.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --account create
Please enter your password:
New Address:89fc1798f2e39687f566db6c02838990206978be
PublicKey:0092909df115b0646f5f771a0505c9c55cc875aeea2a440b7dd11afbd54b350482749d7dba68d1bff96c19adb1a6e920be2e959a684a8ab7545a9a213d85dc4a57
```

#### List

The "list" action displays all addresses in the "wallet.data" file, including both HDWallet and randomly generated addresses.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --account list
Please enter your password:
Address:0 89fc1798f2e39687f566db6c02838990206978b
```

### Change Password

This command allows the user to change the password of the "wallet.data" file generated by xdagj.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --changepassword
Please enter your password:
EnterNewPassword
ReEnterNewPassword
Password Changed Successfully!
```

The user needs to enter the old password and the new password twice to confirm that both new passwords match.

### Convert Old Wallet

This command is used to convert the "wallet.dat" file that was generated by the old xdag wallet c version. (Please note that the wallet file name generated by xdagj is "wallet.data".)

Before using the "convert" command, you need to copy the "wallet.dat" file to the xdagj working directory.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --convertoldwallet wallet.dat
Old wallet password:
Old wallet random:
PrivateKey:8f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
 PublicKey:2cc759b26fe0cf8480607421511e399c8b500790a978785559c38b91a420b2e57115d4618c0e0765e2961a5afa15ac465ae2029bbf6960a3e2ece8de896a964e
   Address:f72a663cacd5fc5eed48633d8cb509781ef29e76
Old Wallet Converted Successfully!
```

### Dump Private Key

This command is used to dump the private key in a hexadecimal string format.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --dumpprivatekey f72a663cacd5fc5eed48633d8cb509781ef29e76
Private:8f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
Private Dump Successfully!
```

### Import Private Key

This command is used to import the private key in a hexadecimal string format.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --importprivatekey 8f30bc86f42f55d8d64dd26a5428fc1e65f0616823153c084b43aad76cd97e04
Address:f72a663cacd5fc5eed48633d8cb509781ef29e76
PublicKey:2cc759b26fe0cf8480607421511e399c8b500790a978785559c38b91a420b2e57115d4618c0e0765e2961a5afa15ac465ae2029bbf6960a3e2ece8de896a964e
Private Key Imported Successfully!
```

### Import Mnemonic

This command is used to import a mnemonic phrase and generate a new HDWallet.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --importmnemonic "smoke that notice super program endless culture bubble trial pass annual rule"
New Address:773b8f4635cfbeacc1f15ee68c0d7c9897ca3f95
PublicKey:0x92909df115b0646f5f771a0505c9c55cc875aeea2a440b7dd11afbd54b350482749d7dba68d1bff96c19adb1a6e920be2e959a684a8ab7545a9a213d85dc4a57
HDWallet Mnemonic Imported Successfully!
```

### Help

This command is used to prompt for command-line help information.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --help
usage: ./xdag.sh [options]
    --account <action>                init|create|list
    --changepassword                  change wallet password
    --convertoldwallet <filename>     convert xdag old wallet.dat to private key hex
    --dumpprivatekey <address>        print hex key
    --enablesnapshot <snapshottime>   the parameter snapshottime uses hexadecimal
    --help                            print help
    --importmnemonic <mnemonic>       import HDWallet mnemonic
    --importprivatekey <key>          import hex key
    --loadsnapshot <filename>         load snapshot
    --makesnapshot <covertuint>       make snapshot
    --password <password>             wallet password
    --version                         show version
```

### Version

This command is used to display the xdagj version number.

```shell
xdager@localhost xdag_full_node % ./xdag.sh --version
0.6.1
```
